<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments/head"><meta charset="utf-8" ></head>

<body class="hold-transition login-page" style="background-image:url('dist/img/logo2.png');background-repeat:no-repeat;background-size:75% 95%;background-attachment:fixed;">
<div class="login-box">
  <div class="login-logo">
    <b>Acesso ao sistema</b>      
  </div>
  <!-- /.login-logo -->
  <div class="card">
    <div class="card-body login-card-body">
      

      <form role="form" id="loginForm" th:action="@{/login}" action="/login" method="post">
        <div class="input-group mb-3 form-group">
          <input type="email" class="form-control" id="username" value="admin@admin.com" name="username" placeholder="Email" required autofocus>
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-envelope"></span>
            </div>
          </div>
        </div>
        <div class="input-group mb-3 form-group">
          <input type="password" class="form-control" name="password" id="password" value="admin" placeholder="Password" required>
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-lock"></span>
            </div>
          </div>
        </div>
        <div class="row">
          <!-- /.col -->
          <div class="col-4">
            <button type="submit" class="btn btn-primary btn-block">Logar</button>
          </div>
          <!-- /.col -->
        </div>
      </form>
      
      <p class="mb-0">
        <a th:href="@{/register}" href="register.html" class="text-center">Registrar novo usuário</a>
      </p>
    </div>
    <!-- /.login-card-body -->
  </div>
</div>
<!-- /.login-box -->

<!-- jQuery -->
<script th:src="@{plugins/jquery/jquery.min.js}" src="plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script th:src="@{plugins/bootstrap/js/bootstrap.bundle.min.js}" src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- AdminLTE App -->
<script th:src="@{dist/js/adminlte.min.js}" src="dist/js/adminlte.min.js"></script>
<!-- jquery-validation -->
<script th:src="@{plugins/jquery-validation/jquery.validate.min.js}" src="plugins/jquery-validation/jquery.validate.min.js"></script>
<script th:src="@{plugins/jquery-validation/additional-methods.min.js}" src="plugins/jquery-validation/additional-methods.min.js"></script>

<script type="text/javascript">
$(document).ready(function () {
  
  $('#loginForm').validate({
    rules: {
      username: {
        required: true,
        email: true,
      },
      password: {
        required: true,
        minlength: 4
      }      
    },
    messages: {
      username: {
        required: "Digite um endereço de e-mail",
        email: "Por favor insira um endereço de e-mail válido"
      },
      password: {
        required: "Forneça uma senha",
        minlength: "Sua senha deve ter pelo menos 4 caracteres"
      }
    },
    errorElement: 'span',
    errorPlacement: function (error, element) {
      error.addClass('invalid-feedback');
      element.closest('.form-group').append(error);
    },
    highlight: function (element, errorClass, validClass) {
      $(element).addClass('is-invalid');
    },
    unhighlight: function (element, errorClass, validClass) {
      $(element).removeClass('is-invalid');
    }
  });
});
</script>
</body>
</html>
